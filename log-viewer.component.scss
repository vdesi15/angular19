:host {
    display: flex;
    flex-direction: column;
    // This component will grow to fill the space of its parent flex container.
    flex-grow: 1; 
    // This is a critical fix for flexbox overflow issues in some browsers.
    min-height: 0; 
    // Set a reasonable minimum height so the table doesn't collapse to nothing.
    min-height: 400px; 
  }
  
  // Use ::ng-deep to apply styles to the child PrimeNG component.
  // Make the p-table component itself a flex container that fills its host.
  // This is the key to making scrollHeight="flex" work.
  :host ::ng-deep .p-datatable.p-component {
    height: 100%;
    display: flex;
    flex-direction: column;
  
    // The wrapper for the scrollable body should take up all available vertical space.
    .p-datatable-wrapper {
      flex-grow: 1;
    }
  }