<!-- ENHANCED log-viewer.component.html with minimal changes -->
<div #tableContainer class="table-container">
  <p-table #logTable 
    [value]="tableData" 
    [columns]="visibleColumns" 
    [totalRecords]="totalRecords" 
    dataKey="_id"
    [paginator]="true" 
    [rows]="getOptimalRowsPerPage()" 
    [rowsPerPageOptions]="[10, 20, 30, 50]" 
    [scrollable]="true" 
    scrollHeight="flex"
    [resizableColumns]="true" 
    columnResizeMode="expand" 
    showGridlines
    styleClass="p-datatable-striped p-datatable-sm elegant-table"
    [paginatorPosition]="'bottom'"
    [alwaysShowPaginator]="true">

    <ng-template pTemplate="header" let-columns>
      <!-- Column Display Names -->
      <tr class="header-row">
        @for(col of columns; track col.id) {
        <th pResizableColumn [style.width]="col.width" class="elegant-header">
          <div class="header-content">
            <span class="column-title">{{ col.displayName }}</span>
          </div>
        </th>
        }
      </tr>
      
      <!-- Per-Column Filter Inputs -->
      <tr class="filter-row">
        @for(col of columns; track col.id) {
        <th class="filter-header">
          @if(col.enableFiltering) {
          <p-columnFilter [field]="col.id+'_filter'" matchMode="contains" [showMenu]="false" [showClearButton]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <input 
                type="text" 
                pInputText 
                [ngModel]="value" 
                (ngModelChange)="filter($event)" 
                class="elegant-filter-input"
                [placeholder]="'Filter ' + col.displayName"
                (click)="$event.stopPropagation()">
            </ng-template>
          </p-columnFilter>
          }
        </th>
        }
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr (click)="handleRowClick(rowData)" class="elegant-row">
        @for(col of columns; track col.id){
        <td 
          [class.clickable-cell]="isCellClickable(col, rowData)" 
          (click)="handleCellClick(col, rowData, $event, getCellValue(rowData, col.field))"
          [pTooltip]="getCellDisplayValue(rowData, col)"
          tooltipPosition="top" 
          class="elegant-cell"
          [innerHTML]="getCellDisplayValue(rowData, col)">
        </td>
        }
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage" let-columns>
      <tr>
        <td [attr.colspan]="columns.length" class="empty-state">
          <div class="empty-content">
            <i class="pi pi-info-circle"></i>
            <p>No records found</p>
          </div>
        </td>
      </tr>
    </ng-template>

    <!-- ðŸ”¥ FIX 3: Custom paginator template for visibility -->
    <ng-template pTemplate="paginatorleft">
      <div class="paginator-info">
        Showing {{ getPaginatorStartRange() }} to {{ getPaginatorEndRange() }} of {{ totalRecords }}
      </div>
    </ng-template>

    <ng-template pTemplate="paginatorright">
      <div class="paginator-controls">
        <span class="records-text">Rows per page:</span>
      </div>
    </ng-template>
  </p-table>
</div>