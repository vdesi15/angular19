:host {
      .favorites-modal ::ng-deep .p-dialog-mask {
        backdrop-filter: blur(8px);
        background: rgba(0, 0, 0, 0.4);
      }

      .favorites-modal-container {
        width: 1125px; // Increased by 50% (750px * 1.5)
        max-width: 95vw;
        max-height: 85vh;
        border-radius: 16px;
        overflow: hidden;
        background: var(--surface-card);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
      }

      // Elegant Header
      .modal-header {
        background: linear-gradient(135deg, #005a94 0%, #007bca 50%, #0099e6 100%);
        padding: 1.5rem;
        color: white;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;

        :host-context(.app-dark) & {
          background: linear-gradient(135deg, #004466 0%, #005a94 50%, #007bca 100%);
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        .header-icon {
          font-size: 2rem;
          opacity: 0.95;
        }

        .header-title {
          margin: 0;
          font-size: 1.5rem;
          font-weight: 600;
        }

        .header-subtitle {
          margin: 0.25rem 0 0 0;
          font-size: 0.9rem;
          opacity: 0.9;
        }

        .close-button {
          color: white !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.1) !important;
          }
        }
      }

      // Content Layout - 50/50 Split
      .modal-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        padding: 0;
        min-height: 0; // Important for flexbox scrolling
      }

      .favorites-section {
        padding: 1.5rem;
        flex: 1; // 50% of space
        display: flex;
        flex-direction: column;
        min-height: 0; // Important for scrolling
        background: var(--surface-ground); // Subtle background difference
        border-bottom: 1px solid var(--surface-border);

        :host-context(.app-dark) & {
          background: var(--surface-800); // Slightly different background in dark mode
        }
      }

      .recent-section {
        padding: 1.5rem;
        flex: 1; // 50% of space  
        display: flex;
        flex-direction: column;
        min-height: 0; // Important for scrolling
        background: var(--surface-card); // Different background for separation

        :host-context(.app-dark) & {
          background: var(--surface-900); // Different background in dark mode
        }
      }

      // Section Headers - Clean & Minimal
      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--surface-border);
        flex-shrink: 0; // Don't shrink the header

        .section-title {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-weight: 600;
          font-size: 1rem;
          color: var(--text-color);

          .section-icon {
            color: var(--text-color-secondary);
            font-size: 1rem;
          }
        }

        // Subtle Clear Button
        .clear-button {
          color: var(--text-color-secondary) !important;
          
          &:hover {
            color: var(--text-color) !important;
            background: var(--surface-hover) !important;
          }
        }
      }

      .items-container {
        flex: 1; // Take remaining space
        overflow: hidden; // Container doesn't scroll
        min-height: 0; // Allow shrinking
      }

      // Elegant Empty States
      .empty-state {
        text-align: center;
        padding: 2rem 1rem;
        
        .empty-icon {
          font-size: 3rem;
          color: var(--text-color-secondary);
          opacity: 0.3;
          margin-bottom: 1rem;
        }

        .empty-text {
          color: var(--text-color);
          margin: 0 0 0.5rem 0;
          font-weight: 500;
        }

        .empty-hint {
          color: var(--text-color-secondary);
          margin: 0;
          font-size: 0.9rem;
        }
      }

      // Polished Search Items - Clean & Elegant with subtle separation
      .search-item {
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 0.75rem; // Increased spacing between items
        cursor: pointer;
        background: var(--surface-card); // Different from section background
        transition: all 0.2s ease;
        border: 1px solid transparent;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); // Very subtle shadow for definition

        &:hover {
          background: var(--surface-hover);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        :host-context(.app-dark) & {
          background: var(--surface-700); // Different from section background
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); // Subtle shadow in dark mode
          border: none;

          &:hover {
            background: var(--surface-600);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
          }
        }

        // Different styling for favorites vs recent
        .favorites-section & {
          :host-context(.app-dark) & {
            background: var(--surface-600); // Lighter in favorites section
          }
        }

        .recent-section & {
          :host-context(.app-dark) & {
            background: var(--surface-700); // Slightly darker in recent section
          }
        }

        .item-content {
          .item-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem; // More space between header and subtitle

            .search-type-icon {
              color: var(--primary-color);
              font-size: 1rem; // Slightly larger
              margin-right: 0.875rem;
              flex-shrink: 0;
            }

            .item-title {
              font-weight: 600;
              flex: 1;
              color: var(--text-color);
              font-size: 1rem; // Slightly larger for better readability
              line-height: 1.4;
            }

            // Subtle Favorite Button
            .favorite-action-btn {
              margin-left: auto;
              color: var(--text-color-secondary) !important;
              opacity: 0.6;
              transition: all 0.2s ease;

              &:hover {
                opacity: 1;
                color: var(--text-color) !important;
                background: var(--surface-hover) !important;
              }

              &.is-favorite {
                color: #14b8a6 !important; // Teal for favorited items
                opacity: 0.8;

                &:hover {
                  opacity: 1;
                }
              }
            }
          }

          .item-subtitle {
            font-size: 0.875rem; // Slightly larger
            color: var(--text-color-secondary);
            margin-bottom: 0.375rem; // More spacing
            line-height: 1.4;
          }

          .item-timestamp {
            font-size: 0.8rem; // Slightly larger
            color: var(--text-color-secondary);
            opacity: 0.7;
          }
        }
      }

      // Elegant Footer
      .modal-footer {
        padding: 1rem 1.5rem;
        border-top: 1px solid var(--surface-border);
        background: var(--surface-50);
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-shrink: 0; // Don't shrink the footer

        :host-context(.app-dark) & {
          background: var(--surface-800);
        }

        .footer-info {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--text-color-secondary);
          font-size: 0.85rem;

          .info-icon {
            font-size: 0.9rem;
            opacity: 0.7;
          }
        }

        .close-footer-btn {
          color: var(--text-color) !important;
          border-color: var(--surface-border) !important;

          &:hover {
            background: var(--surface-hover) !important;
          }
        }
      }

      // Custom Scroll Panel - ENHANCED FOR VISIBILITY
      ::ng-deep .custom-scroll {
        height: 100% !important;

        .p-scrollpanel-wrapper {
          border-right: none !important;
          height: 100% !important;
        }

        .p-scrollpanel-content {
          height: 100% !important;
          padding-right: 12px !important; // More space for scrollbar
          overflow-y: auto !important; // Force scrollbar
        }

        .p-scrollpanel-bar-y {
          background: var(--primary-color) !important;
          opacity: 0.6 !important; // More visible
          width: 8px !important; // Thicker scrollbar
          border-radius: 4px !important;
          transition: all 0.2s ease !important;
          right: 2px !important; // Position from edge

          &:hover {
            opacity: 0.9 !important;
            width: 10px !important; // Expand on hover
          }

          // Dark mode scrollbar
          :host-context(.app-dark) & {
            background: rgba(59, 130, 246, 0.8) !important; // Brighter blue in dark mode
            opacity: 0.7 !important;

            &:hover {
              opacity: 1 !important;
            }
          }
        }

        .p-scrollpanel-bar-x {
          display: none !important; // Hide horizontal scrollbar
        }

        // Ensure scrollbar track is visible
        .p-scrollpanel-track-y {
          background: rgba(0, 0, 0, 0.05) !important;
          width: 8px !important;
          border-radius: 4px !important;

          :host-context(.app-dark) & {
            background: rgba(255, 255, 255, 0.1) !important;
          }
        }
      }

      // Mobile Responsive
      @media (max-width: 768px) {
        .favorites-modal-container {
          width: 95vw;
          max-height: 90vh;
        }

        .favorites-section {
          flex: 0 0 150px;
        }

        .modal-footer {
          flex-direction: column;
          gap: 0.75rem;
          align-items: center;
        }
      }
    }